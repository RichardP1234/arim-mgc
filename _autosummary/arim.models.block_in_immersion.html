<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>arim.models.block_in_immersion &mdash; arim 0.9.rc2 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="arim.models.block_in_contact" href="arim.models.block_in_contact.html" />
    <link rel="prev" title="arim.models" href="arim.models.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            arim
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core/index.html">Core objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model/index.html">Modelling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../im/index.html">Imaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/index.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../io/index.html">Files and I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bibliography.html">Bibliography</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">arim reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="arim.core.html">arim.core</a></li>
<li class="toctree-l2"><a class="reference internal" href="arim.geometry.html">arim.geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="arim.ray.html">arim.ray</a></li>
<li class="toctree-l2"><a class="reference internal" href="arim._probes.html">arim._probes</a></li>
<li class="toctree-l2"><a class="reference internal" href="arim.model.html">arim.model</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="arim.models.html">arim.models</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">arim.models.block_in_immersion</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#scattering-precomputation">Scattering precomputation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="arim.models.block_in_contact.html">arim.models.block_in_contact</a></li>
<li class="toctree-l3"><a class="reference internal" href="arim.models.helpers.html">arim.models.helpers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="arim.scat.html">arim.scat</a></li>
<li class="toctree-l2"><a class="reference internal" href="arim.im.html">arim.im</a></li>
<li class="toctree-l2"><a class="reference internal" href="arim.im.tfm.html">arim.im.tfm</a></li>
<li class="toctree-l2"><a class="reference internal" href="arim.im.das.html">arim.im.das</a></li>
<li class="toctree-l2"><a class="reference internal" href="arim.io.html">arim.io</a></li>
<li class="toctree-l2"><a class="reference internal" href="arim.io.native.html">arim.io.native</a></li>
<li class="toctree-l2"><a class="reference internal" href="arim.io.brain.html">arim.io.brain</a></li>
<li class="toctree-l2"><a class="reference internal" href="arim.io.scat.html">arim.io.scat</a></li>
<li class="toctree-l2"><a class="reference internal" href="arim.ut.html">arim.ut</a></li>
<li class="toctree-l2"><a class="reference internal" href="arim.plot.html">arim.plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="arim.signal.html">arim.signal</a></li>
<li class="toctree-l2"><a class="reference internal" href="arim.measurement.html">arim.measurement</a></li>
<li class="toctree-l2"><a class="reference internal" href="arim.config.html">arim.config</a></li>
<li class="toctree-l2"><a class="reference internal" href="arim.helpers.html">arim.helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="arim.settings.html">arim.settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="arim.exceptions.html">arim.exceptions</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">arim</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api.html">arim reference</a></li>
          <li class="breadcrumb-item"><a href="arim.models.html">arim.models</a></li>
      <li class="breadcrumb-item active">arim.models.block_in_immersion</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_autosummary/arim.models.block_in_immersion.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="module-arim.models.block_in_immersion">
<span id="arim-models-block-in-immersion"></span><h1>arim.models.block_in_immersion<a class="headerlink" href="#module-arim.models.block_in_immersion" title="Permalink to this headline">ÔÉÅ</a></h1>
<p>Forward model of the inspection of a solid block in immersion</p>
<p>Calculating the frequency-domain <strong>scatterer</strong> responses:</p>
<ul class="simple">
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">scat_unshifted_transfer_functions()</span></code>: base function, no time-shift</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">singlefreq_scat_transfer_functions()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">multifreq_scat_transfer_functions()</span></code></p></li>
</ul>
<p>Calculating the frequency-domain <strong>wall</strong> responses:</p>
<ul class="simple">
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">wall_unshifted_transfer_functions()</span></code>: base function, no time-shift</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">singlefreq_wall_transfer_functions()</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">multifreq_wall_transfer_functions()</span></code></p></li>
</ul>
<p>Boilerplate:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">arim.models.block_in_immersion</span> <span class="k">as</span> <span class="nn">bim</span>

<span class="n">probe_p</span> <span class="o">=</span> <span class="n">probe</span><span class="o">.</span><span class="n">to_oriented_points</span><span class="p">()</span>
<span class="n">frontwall</span> <span class="o">=</span>         <span class="n">arim</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">points_1d_wall_z</span><span class="p">(</span><span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">,</span> <span class="n">z_frontwall</span><span class="p">,</span> <span class="n">numpoints</span><span class="p">)</span>
<span class="n">backwall</span> <span class="o">=</span>         <span class="n">arim</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">points_1d_wall_z</span><span class="p">(</span><span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">,</span> <span class="n">z_backwall</span><span class="p">,</span> <span class="n">numpoints</span><span class="p">)</span>

<span class="n">grid</span> <span class="o">=</span> <span class="n">arim</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">Grid</span><span class="p">(</span><span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">,</span> <span class="n">ymin</span><span class="p">,</span> <span class="n">ymax</span><span class="p">,</span> <span class="n">zmin</span><span class="p">,</span> <span class="n">zmax</span><span class="p">,</span> <span class="n">pixel_size</span><span class="p">)</span>
<span class="n">grid_p</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">to_oriented_points</span><span class="p">()</span>

<span class="n">exam_obj</span> <span class="o">=</span> <span class="n">arim</span><span class="o">.</span><span class="n">BlockInImmersion</span><span class="p">(</span><span class="n">block_material</span><span class="p">,</span> <span class="n">couplant_material</span><span class="p">,</span>
                                 <span class="n">frontwall</span><span class="p">,</span> <span class="n">backwall</span><span class="p">)</span>

<span class="n">views</span> <span class="o">=</span> <span class="n">bim</span><span class="o">.</span><span class="n">make_views</span><span class="p">(</span><span class="n">examination_object</span><span class="p">,</span> <span class="n">probe_p</span><span class="p">,</span>
                       <span class="n">grid_p</span><span class="p">,</span> <span class="n">max_number_of_reflection</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                       <span class="n">tfm_unique_only</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="scattering-precomputation">
<h2>Scattering precomputation<a class="headerlink" href="#scattering-precomputation" title="Permalink to this headline">ÔÉÅ</a></h2>
<p>In the computation of the model, there are two options for scattering. The
first option is to pass functions, which are called for each pair of incident
and scatterer angles. The evaluation time per angle pair is in general almost
constant.</p>
<p>The second option is to pass scattering matrices, which are the function
outputs for a grid of incident and scatterer angle. Missing angles are obtained
by linear interpolation. The second option suffers from a loss of accuracy if
the number of angles used for evaluation is too small. The total evaluation
time is the sum of the precomputation time and the interpolation.</p>
<p>For a small number of angles to evaluate, passing the functions (option 1) is
often the most computationally efficient. For a large amount of angles to
evaluate, precomputing the scattering matrices (option 2) is often more
computationally efficient.</p>
<p class="rubric">Functions</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">backwall_paths</span></code>(couplant_material,¬†...[,¬†...])</p></td>
<td><p>Make backwall paths</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">backwall_paths2</span></code>(couplant_material,¬†...[,¬†...])</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">frontwall_path</span></code>(couplant_material,¬†...)</p></td>
<td><p>Probe -&gt; couplant -&gt; frontwall -&gt; couplant -&gt; probe</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_interfaces</span></code>(couplant_material,¬†...)</p></td>
<td><p>Construct Interface objects for the case of a solid block in immersion (couplant is liquid).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_paths</span></code>(block_material,¬†...[,¬†...])</p></td>
<td><p>Creates the paths L, T, LL, LT, TL, TT (in this order).</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_views</span></code>(examination_object,¬†...[,¬†...])</p></td>
<td><p>Make views for the measurement model of a block in immersion (scatterers response only).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">multifreq_scat_transfer_functions</span></code>(views,¬†tx,¬†...)</p></td>
<td><p>Compute transfer functions for scatterer echoes (multi-frequency model).</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">multifreq_wall_transfer_functions</span></code>(...[,¬†...])</p></td>
<td><p>Compute transfer functions for scatterer echoes (multi-frequency model).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ray_weights_for_views</span></code>(views,¬†frequency[,¬†...])</p></td>
<td><p>Compute coefficients Q_i(r, omega) and Q'_j(r, omega) from the forward model for all views.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">ray_weights_for_wall</span></code>(path,¬†frequency[,¬†...])</p></td>
<td><p>Compute model coefficients for wall echoes.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">rx_ray_weights</span></code>(path,¬†ray_geometry,¬†frequency)</p></td>
<td><p>Coefficients Q'_i(r, omega) in forward model.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">scat_unshifted_transfer_functions</span></code>(views,¬†tx,¬†...)</p></td>
<td><p>Compute unshifted transfer functions for scatterer echoes (multi-frequency model).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">singlefreq_scat_transfer_functions</span></code>(views,¬†...)</p></td>
<td><p>Compute transfer functions for scatterer echoes (single-frequency model).</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">singlefreq_wall_transfer_functions</span></code>(...[,¬†...])</p></td>
<td><p>Compute transfer functions for wall echoes (single-frequency model).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">tx_ray_weights</span></code>(path,¬†ray_geometry,¬†frequency)</p></td>
<td><p>Coefficients Q_i(r, omega) in forward model.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">wall_unshifted_transfer_functions</span></code>(...[,¬†...])</p></td>
<td><p>Compute unshifted transfer functions for walls echoes.</p></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="arim.models.html" class="btn btn-neutral float-left" title="arim.models" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="arim.models.block_in_contact.html" class="btn btn-neutral float-right" title="arim.models.block_in_contact" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Nicolas Budyn, Rhodri Bevan 2016-2020.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>